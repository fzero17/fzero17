---
layout: post
title:  "小程序开发笔记"
date:   2017-08-14 10:20:40 +0800
categories: memo
---

> 5月份开始跳进小程序开发这个坑，其中由于公司的主要项目还是我负责，所以断断续续的到现在也只发布了一个正式版，在这里记录一下开发历程。

### 界面布局
布局UI参考微信官方提供的例子，特别方便。对于我这种程序员审美的人来说，是个很好的参考工具。结果设计师给的设计图，能做出一份比较中规中矩的 UI 出来。

### 学习过程
对于我来说，学习过程是无痛的。因为在之前的项目中也用到了 React 和 Mustache ，所以学习起来基本上是零成本，很容易就理解了。在项目的后期，觉得每个地方都要 `wx.request()` 太麻烦，并且数据基本上都是用缓存来管理，太混乱，所以用 Redux 重构了，参考的是 Github 上的例子。

### 一些Tips
__小程序的登录__
公司的系统使用 OAuth 登录，但是小程序的请求里是把 Cookie 去掉的，所以只好手动在代码里添加 Cookie 了(需要后台提供获取 Cookie 的请求），代码如下：


```
wx.request({
                url,
                data,
                method,
                header: {
                    'Content-Type': 'application/json',
                    'COOKIE': 'This is Cookie'
                },
                success: function (res) {
                    //TODO STH.
                },
                fail: function (err) {
                    //TODO STH.
                }
            });

```

__项目感受__
从上个项目中吸取了很多经验，也服用到小程序项目的开发中

* 把请求统一处理
* 错误信息统一处理
* 尽快上线，小步迭代，快速前进
* 如果产品经理罗列了很多很多的功能出来，作为开发是可以砍功能的，把有用的核心的功能先完成，后续的其他功能再慢慢补充。否则，很容易被项目进度拖死，也会被拖的很迷茫。
* 有了一个成功的项目经验，就很容易做出其他的成功项目来。但是成功太难了，幸好我遇到了一次。在有了成功的经验之后，能够在项目开发时分清楚重点，开发出对于用户有用的产品，而不是做一大堆无用功。


